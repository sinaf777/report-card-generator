<!DOCTYPE html>
<html>
<head>
    <title>Setup Report</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
        }
        label {
            display: inline-block;
            width: 140px;
            margin-top: 10px;
        }
        input[type="text"], input[type="date"], input[type="number"] {
            margin-top: 10px;
            padding: 5px;
            width: 200px;
        }
        .alert {
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .alert-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <!-- Flash Message Display -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <h2>School Information</h2>
    <form method="POST" enctype="multipart/form-data">
        <label>School Name:</label><input type="text" name="school_name" required><br>
        <label>Term:</label><input type="text" name="term" required><br>
        <label>Date:</label><input type="date" name="date" required><br>
        <label>Signature Text:</label><input type="text" name="signature" required><br>
        <label>School Logo:</label><input type="file" name="logo" accept="image/*"><br><br>

        <h3>Grading Scale</h3>
        <div id="scale">
            <div><input name="grade[]" placeholder="A+" required> ≥ <input name="min_score[]" type="number" required></div>
        </div>
        <button type="button" onclick="addRow()">+ Add Grade</button><br><br>

        <h3>Select Template</h3>
        <label><input type="radio" name="template" value="template1" checked> Template 1</label>
        <label><input type="radio" name="template" value="template2"> Template 2</label>
        <label><input type="radio" name="template" value="template3"> Template 3</label><br><br>

        <input type="submit" value="Next">
    </form>

    <script>
        function addRow() {
            const div = document.createElement('div');
            div.innerHTML = '<input name="grade[]" placeholder="A+" required> ≥ <input name="min_score[]" type="number" required>';
            document.getElementById('scale').appendChild(div);
        }
    </script>
</body>
</html>
